{
  "kind": "build_request",
  "title": "Add online ordering functionality for restaurants",
  "projectName": "Quick Resto",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-9",
      "text": "Add an 'orderItems' array field to the Restaurant type in backend/main.mo to store menu items available for ordering, where each item includes a name, description, price, and category",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "For only odering"
        ]
      },
      "acceptanceCriteria": [
        "Restaurant type includes orderItems field with structured item data",
        "Each order item has name, description, price (as Nat), and category fields",
        "Existing restaurant query functions continue to work with the extended type"
      ]
    },
    {
      "id": "REQ-10",
      "text": "Create backend methods to add items to a restaurant's order menu and retrieve all orderable items for a specific restaurant by restaurant name",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "For only odering"
        ]
      },
      "acceptanceCriteria": [
        "Function to add menu items to a restaurant's orderItems array",
        "Function to query all orderable items for a given restaurant",
        "Methods handle cases where restaurant does not exist"
      ]
    },
    {
      "id": "REQ-11",
      "text": "Add a shopping cart state management system in the frontend that allows users to add menu items, adjust quantities, and view their cart total",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "For only odering"
        ]
      },
      "acceptanceCriteria": [
        "Cart state persists across page navigation within the session",
        "Users can increment and decrement item quantities",
        "Cart displays running total of all items",
        "Cart shows item count badge or indicator"
      ]
    },
    {
      "id": "REQ-12",
      "text": "Create an order menu section on the RestaurantDetailPage that displays all available items grouped by category with add-to-cart buttons",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "For only odering"
        ]
      },
      "acceptanceCriteria": [
        "Menu items are displayed below existing restaurant details",
        "Items are grouped by category (appetizers, mains, desserts, etc.)",
        "Each item shows name, description, and price",
        "Add to cart button is present for each item",
        "Visual feedback when item is added to cart"
      ]
    },
    {
      "id": "REQ-13",
      "text": "Create a cart review page or modal that displays all selected items, quantities, individual prices, and total order cost with options to adjust quantities or remove items",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "For only odering"
        ]
      },
      "acceptanceCriteria": [
        "Cart is accessible from any page via header or floating button",
        "Shows all items with restaurant name, item name, quantity, and line total",
        "Users can adjust quantities or remove items",
        "Displays subtotal and order total",
        "Empty cart state shows appropriate message"
      ]
    },
    {
      "id": "REQ-14",
      "text": "Implement a checkout flow that collects delivery address and contact information, then stores the completed order in the backend with order status tracking",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "For only odering"
        ]
      },
      "acceptanceCriteria": [
        "Checkout form collects delivery address, phone number, and optional notes",
        "Backend stores orders with timestamp, user identity, restaurant, items, quantities, total, and delivery info",
        "Order is assigned a unique order ID and initial status (pending)",
        "Cart is cleared after successful order submission",
        "User receives confirmation with order ID and summary"
      ]
    },
    {
      "id": "REQ-15",
      "text": "Create an order history page where users can view their past orders with order details, status, and restaurant information",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "For only odering"
        ]
      },
      "acceptanceCriteria": [
        "Backend method returns all orders for the authenticated user",
        "Orders are displayed in reverse chronological order (newest first)",
        "Each order shows restaurant name, order date, total, and current status",
        "Users can expand order details to see full item list",
        "Navigation link to order history is accessible from header"
      ]
    }
  ],
  "constraints": [
    "Do not modify existing Restaurant type fields (name, cuisine, price, rating, address, hours, menu)",
    "Preserve existing restaurant search and filter functionality",
    "Cart state should not persist between browser sessions unless explicitly stored",
    "Order data must be associated with Internet Identity for user attribution"
  ],
  "nonGoals": [
    "Payment processing integration",
    "Real-time order tracking with live updates",
    "Restaurant-side order management interface",
    "Delivery driver assignment or tracking",
    "Multi-restaurant orders in a single checkout"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}